!function(){const t=[".price"],e=document.querySelector('script[data-id][data-name="shopifyAddiWidget"]'),o=e.getAttribute("data-element-reference"),n=e.getAttribute("data-ally-slug"),r={showBanner:!1,bannerId:"",bannerElementRef:""},d={borderColor:e.getAttribute("widget-border-color"),borderRadius:e.getAttribute("widget-border-radius"),fontColor:e.getAttribute("widget-font-color"),fontFamily:e.getAttribute("widget-font-family"),fontSize:e.getAttribute("widget-font-size"),badgeBackgroundColor:e.getAttribute("widget-badge-background-color"),infoBackgroundColor:e.getAttribute("widget-info-background-color"),iconType:e.getAttribute("widget-addi-icon-type"),iconSize:e.getAttribute("widget-addi-icon-size"),margin:e.getAttribute("widget-margin")},i={backgroundColor:e.getAttribute("modal-background-color"),fontColor:e.getAttribute("modal-font-color"),fontFamily:e.getAttribute("modal-font-family"),priceColor:e.getAttribute("modal-price-color"),badgeBackgroundColor:e.getAttribute("modal-badge-background-color"),badgeFontColor:e.getAttribute("modal-badge-font-color"),badgeBorderRadius:e.getAttribute("modal-badge-border-radius"),cardColor:e.getAttribute("modal-card-color"),buttonBorderColor:e.getAttribute("modal-button-border-color"),buttonBorderRadius:e.getAttribute("modal-button-border-radius"),buttonBackgroundColor:e.getAttribute("modal-button-background-color"),buttonFontColor:e.getAttribute("modal-button-font-color")};let a=null;function c(e){if(e)return a=document.querySelector(e),a;for(let e=0;e<t.length;e++)if(a=document.querySelector(t[e]),a)return a;return null}function u(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function l(){const t=window?.meta?.page?.pageType?window?.meta?.page?.pageType:function(){const t=window.location.pathname;return"/"===t?"home":t.includes("/products")?"product":""}();if(function(t){if("home"===t){const t=document.createElement("script");t.type="module",t.src="https://cdn.addi.com/home-banner-widget/prod/v1/home-banner-widget.esm.js",document.head.append(t)}if("product"===t){const t=document.createElement("script");t.type="module",t.src="https://cdn.addi.com/product-details-widget/prod/v1/product-details-widget.esm.js",document.head.append(t)}}(t),"home"===t&&(r.showBanner="true"===e.getAttribute("data-show-banner"),r.bannerElementRef=e.getAttribute("data-banner-element-reference"),r.bannerId=e.getAttribute("data-banner-id"),r.showBanner&&function(){const t=a||c(r.bannerElementRef);if(t){const e=document.querySelector("addi-home-banner");e&&e.remove();const o=document.createElement("addi-home-banner");r.bannerId&&(o.setAttribute("ally-slug",n),o.setAttribute("banner-id",r.bannerId)),u(o,t)}else console.log("[ADDI - Home banner] No reference node was not found.")}()),"product"===t){const t=function(){const t=window?.meta?.product||{};if(t){const e=new URLSearchParams(window.location.search).get("variant");if(e){const o=t.variants.filter((t=>t.id===parseInt(e)));return o.length>0?o[0]:null}return t?.variants[0]}console.warn("[ADDI - widget] Product info not found.")}(),e=t.price/100;t?function(t){const e=c(o);if(e){const o=document.querySelector("addi-product-widget");o&&o.remove();const r=document.createElement("addi-product-widget");r.setAttribute("ally-slug",n),r.setAttribute("price",t),r.setAttribute("country","co"),r.setAttribute("custom-widget-styles",function(){const t=t=>{const e=Object.keys(t),o={};for(let n=0;n<Object.keys(t).length;n++)t[e[n]]&&(o[e[n]]=t[e[n]]);return o};return JSON.stringify({widget:t(d),modal:t(i)})}()),r.setAttribute("style","display: block;"),u(r,e)}else console.log("[ADDI - Widget] No reference node was not found.")}(e):console.warn("[ADDI - widget] Product info is undefined.")}}"complete"===document.readyState||"interactive"===document.readyState?l():window.addEventListener("DOMContentLoaded",l),window.addEventListener("change",(()=>{setTimeout(l,500)}))}();